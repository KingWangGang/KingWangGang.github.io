(function(){"use strict";var t={750:function(t,l,e){var a=e(963),n=e(252);function i(t,l,e,a,i,s){const o=(0,n.up)("DynamicsOnline");return(0,n.wg)(),(0,n.j4)(o)}var s=e(577);const o={class:"pl"},d={class:"pm"},u={class:"pr"},_={class:"pdownload"},r={class:"progress-bar"},h={class:"box"},c={id:"number"},w=(0,n._)("i",null,"%",-1),b={id:"customers"},D=(0,n._)("th",null,"dynamics",-1);function p(t,l,e,i,p,z){const m=(0,n.up)("van-overlay");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",o,[(0,n._)("button",{onMousedown:l[0]||(l[0]=(...t)=>z.handlerTouchstart&&z.handlerTouchstart(...t)),onMousemove:l[1]||(l[1]=(...t)=>z.handlerTouchmove&&z.handlerTouchmove(...t)),onMouseup:l[2]||(l[2]=(...t)=>z.handlerTouchend&&z.handlerTouchend(...t))},"回到起始点",32)]),(0,n._)("div",d,[(0,n._)("button",{onClick:l[3]||(l[3]=(...t)=>z.start_identify_dynamics&&z.start_identify_dynamics(...t))},"开始自动辨识")]),(0,n._)("div",u,[(0,n._)("div",null,[(0,n._)("button",{onClick:l[4]||(l[4]=(...t)=>z.get_dynamics_identify_result&&z.get_dynamics_identify_result(...t))},"获取动力学参数")])]),(0,n._)("div",_,[(0,n._)("div",null,[(0,n._)("button",{onClick:l[5]||(l[5]=(...t)=>z.downloadTxt&&z.downloadTxt(...t))},"下载动力学参数")])]),(0,n.wy)((0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n._)("div",h,[(0,n._)("div",{class:"clip",id:"context",style:(0,s.j5)([this.Width])},null,4)]),(0,n._)("span",null,[(0,n._)("span",c,(0,s.zw)(this.num),1),w])])])),_:1},512),[[a.F8,p.isShow]]),(0,n._)("table",b,[D,(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[0])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[1]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[2]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[3]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[4]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[5]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[6]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[7])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[8]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[9]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[10]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[11]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[12]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[13]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[14])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[15]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[16]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[17]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[18]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[19]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[20]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[21])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[22]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[23]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[24]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[25]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[26]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[27]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[28])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[29]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[30]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[31]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[32]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[33]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[34]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[35])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[36]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[37]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[38]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[39]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[40]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[41]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[42])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[43]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[44]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[45]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[46]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[47]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[48]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[49])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[50]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[51]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[52]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[53]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[54]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[55]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[56])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[57]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[58]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[59]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[60]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[61]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[62]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[63])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[64]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[65]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[66]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[67]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[68]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[69]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[70])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[71]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[72]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[73]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[74]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[75]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[76]),1)]),(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(p.tableDate[77])+" ",1),(0,n._)("td",null,(0,s.zw)(p.tableDate[78]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[79]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[80]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[81]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[82]),1),(0,n._)("td",null,(0,s.zw)(p.tableDate[83]),1)])])])}var z=e(162),m={data(){return{loop:0,clickShow:!1,longClickShow:!1,tableDate:[],tableDate1:[],pre_tableDate:[],joint:[],num:0,mutex1:1,mutex2:0,my_url:0,Width:{width:"0px"},isShow:!1}},methods:{async init(){this.my_url="http://"+window.location.hostname+":10005/robot/v1.0/"},start_processlider(){console.log(this.mutex1),console.log(this.mutex2);var t=setInterval((()=>{this.isShow=!0,this.num++,this.Width={width:this.num+"px"},this.num>=100&&(this.num=100,clearInterval(t),this.mutex2=0)}),800)},stop_processlider(){this.mutex1=1,this.mutex2=0},async get_dynamics_identify_result(){this.init(),console.log("-----------get dynamics result---------------"),this.$axios.post(this.my_url+"get_dynamics_identify_result").then((t=>{let l=e(575).Base64;this.pre_tableDate=t.data.data.fileData.data,this.tableDate1=l.decode(this.pre_tableDate),this.tableDate=this.tableDate1.split("\t"),console.log(this.tableDate)})).catch((t=>{console.log(t)}))},downloadTxt(){this.get_dynamics_identify_result();let t=this.tableDate,l=new Blob([t],{type:"text/plain;charset=utf-8"});(0,z.saveAs)(l,"动力学参数.txt")},async get_dynamics_identify_start_pos(){this.init(),console.log("-----------get dynamics start pos---------------"),this.$axios.post(this.my_url+"get_dynamics_identify_start_pos").then((t=>{this.joint[1]=t.data.data.jointpos.joint1,this.joint[2]=t.data.data.jointpos.joint2,this.joint[3]=t.data.data.jointpos.joint3,this.joint[4]=t.data.data.jointpos.joint4,this.joint[5]=t.data.data.jointpos.joint5,this.joint[6]=t.data.data.jointpos.joint6})).catch((t=>{console.log(t)}))},start(){this.init(),this.stop_processlider(),this.get_dynamics_identify_start_pos(),console.log("-----------start moving---------------"),this.$axios.post(this.my_url+"movj",{movjreq:{jointpos:{joint1:this.joint[1],joint2:this.joint[2],joint3:this.joint[3],joint4:this.joint[4],joint5:this.joint[5],joint6:this.joint[6]},velocity:50}}).then((t=>{this.newsList=t.data.data})).catch((t=>{console.log(t)}))},stop(){this.stop_processlider(),this.init(),console.log("-----------stop moving---------------"),this.$axios.post(this.my_url+"jog_stop",{intid:0}).then((t=>{this.newsList=t.data.data})).catch((t=>{console.log(t)}))},get_dynamics_data(){this.init(),console.log("-----------get data over---------------"),this.$axios.post(this.my_url+"heart_beat").then((t=>{this.newsList=t.data.data})).catch((t=>{console.log(t)}))},start_identify_dynamics(){this.init(),this.mutex2=1,console.log(this.mutex1),console.log(this.mutex2),1==this.mutex1&&1==this.mutex2&&this.start_processlider(),this.mutex1=0,this.mutex2=0,console.log("-----------start identify dynamics---------------"),this.$axios.post(this.my_url+"start_identify_dynamics").then((t=>{this.newsList=t.data.data})).catch((t=>{console.log(t)}))},stop_identify_dynamics(){this.init(),console.log("-----------stop identify dynamics---------------"),this.$axios.post(this.my_url+"stop_identify_dynamics").then((t=>{this.newsList=t.data.data})).catch((t=>{console.log(t)}))},get_dynamics_identify_status(){this.init(),console.log("-----------get dynamics identify status---------------"),this.$axios.post(this.my_url+"get_dynamics_identify_status").then((t=>{this.newsList=t.data.data})).catch((t=>{console.log(t)}))},handlerTouchstart(){return this.start(),this.get_dynamics_identify_start_pos(),this.loop=setTimeout((()=>{this.get_dynamics_identify_start_pos(),this.loop=1,this.start(),this.stop_processlider(),this.num=0,this.clickShow=!1,this.longClickShow=!0}),1e7),!1},handlerTouchmove(){clearTimeout(this.loop),this.loop=0},handlerTouchend(){clearTimeout(this.loop),0!==this.loop&&(this.clickShow=!0,this.longClickShow=!1),this.stop()}}},y=e(744);const f=(0,y.Z)(m,[["render",p]]);var g=f,v={components:{DynamicsOnline:g}};const j=(0,y.Z)(v,[["render",i]]);var x=j,T=e(196),k=e(537);const O=(0,a.ri)(x);O.mount("#app"),O.config.globalProperties.$axios=T.ZP,x.use(k.a)}},l={};function e(a){var n=l[a];if(void 0!==n)return n.exports;var i=l[a]={exports:{}};return t[a].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(l,a,n,i){if(!a){var s=1/0;for(_=0;_<t.length;_++){a=t[_][0],n=t[_][1],i=t[_][2];for(var o=!0,d=0;d<a.length;d++)(!1&i||s>=i)&&Object.keys(e.O).every((function(t){return e.O[t](a[d])}))?a.splice(d--,1):(o=!1,i<s&&(s=i));if(o){t.splice(_--,1);var u=n();void 0!==u&&(l=u)}}return l}i=i||0;for(var _=t.length;_>0&&t[_-1][2]>i;_--)t[_]=t[_-1];t[_]=[a,n,i]}}(),function(){e.d=function(t,l){for(var a in l)e.o(l,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:l[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)}}(),function(){var t={143:0};e.O.j=function(l){return 0===t[l]};var l=function(l,a){var n,i,s=a[0],o=a[1],d=a[2],u=0;if(s.some((function(l){return 0!==t[l]}))){for(n in o)e.o(o,n)&&(e.m[n]=o[n]);if(d)var _=d(e)}for(l&&l(a);u<s.length;u++)i=s[u],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(_)},a=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(750)}));a=e.O(a)})();
//# sourceMappingURL=app.3cb994f6.js.map